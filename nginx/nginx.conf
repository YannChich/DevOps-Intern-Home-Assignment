# Basic Nginx configuration for two simple HTTP servers

worker_processes auto;

events {
    worker_connections 1024;
}

http {
    # Include default MIME types for proper Content-Type handling
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    # First server: returns a custom HTML page on port 8080
    server {
        listen 8080;
        server_name localhost;

        # For this server we want to return HTML content
        default_type text/html;

        location / {
            # Return a 200 OK with a simple custom HTML response
            return 200 '<html><body><h1>Welcome from Nginx on port 8080</h1><p>This is the success server.</p></body></html>';
        }
    }

    # Second server: always returns an HTTP error on port 8081
    server {
        listen 8081;
        server_name localhost;

        location / {
            # Return a 500 Internal Server Error for any request
            return 500;
        }
    }
}

